<!-- ===== apply.html (Apply/Register) ===== -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Apply / Register for AfSNET." />
  <title>AfSNET | Apply</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>

<header>
  <div class="container topbar">
    <a class="brand" href="./index.html" aria-label="AfSNET Home">
      <div class="logo" aria-hidden="true"></div>
      <div><h1>AfSNET</h1><p>Afreximbank programme</p></div>
    </a>
    <nav class="nav" aria-label="Primary navigation">
      <a href="./index.html">Home</a>
      <a href="./about.html">About</a>
      <a href="./programme.html">Programme</a>
      <a href="./event.html">Event</a>
      <a href="./speakers-partners.html">Speakers/Partners</a>
      <a href="./travel-visa.html">Travel & Visa</a>
      <a href="./media-press.html">Media/Press</a>
      <a href="./hotels.html">Hotels</a>
      <a class="active cta" href="./apply.html">Apply</a>
      <a href="./contact.html">Contact</a>
    </nav>
  </div>
</header>

<main id="main" class="container">
  <section class="grid section">
    <div class="card pad hero">
      <span class="pill">Registration form</span>
      <h2>Apply / Register</h2>
      <p class="muted">
        This is a static site. Replace the form endpoint below with your form service URL (Formspree/Tally/Google Forms).
      </p>
      <div class="meta">
        <div class="chip"><strong>Support:</strong> afsnet@afreximbank.com</div>
        <div class="chip"><strong>Response:</strong> Confirmation + next steps</div>
      </div>
    </div>

    <div class="card pad">
      <h3 style="margin-top:0">Complete your details</h3>

      <!-- Replace action URL with your endpoint -->
      <form id="afsnetForm" method="POST" action="https://formspree.io/f/REPLACE_ME">
        <input type="hidden" name="_subject" value="AfSNET Registration" />
        <input type="hidden" name="_redirect" value="./thank-you.html" />
        <input type="text" name="_gotcha" class="sr-only" tabindex="-1" autocomplete="off" aria-hidden="true" />

        <div class="row">
          <div>
            <label for="fullName">Full name *</label>
            <input id="fullName" name="fullName" required autocomplete="name" />
          </div>
          <div>
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" required autocomplete="email" />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="organisation">Organisation *</label>
            <input id="organisation" name="organisation" required />
          </div>
          <div>
            <label for="role">Role / Title</label>
            <input id="role" name="role" />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="country">Country *</label>
            <input id="country" name="country" required />
          </div>
          <div>
            <label for="phone">Phone (optional)</label>
            <input id="phone" name="phone" autocomplete="tel" />
          </div>
        </div>

        <div>
          <label for="category">Participation category *</label>
          <select id="category" name="category" required>
            <option value="" selected disabled>Select one</option>
            <option>Investor / Financier</option>
            <option>Project / Deal Sponsor</option>
            <option>Government / Public sector</option>
            <option>Private sector / Corporate</option>
            <option>SME</option>
            <option>Partner / Ecosystem</option>
            <option>Media</option>
            <option>Other</option>
          </select>
        </div>

        <div>
          <label for="interests">Areas of interest (optional)</label>
          <textarea id="interests" name="interests" placeholder="Sectors, deal type, meeting preferences, etc."></textarea>
          <div class="muted small">Avoid sharing sensitive personal data beyond what is needed for participation.</div>
        </div>

        <div class="consent">
          <input id="consent" name="consent" type="checkbox" required />
          <label for="consent" style="font-weight:600;color:var(--muted)">
            I consent to Afreximbank processing my registration data for programme administration and communications.
          </label>
        </div>

        <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
          <button id="submitBtn" type="submit">Submit registration</button>
          <div id="status" class="status" role="status" aria-live="polite"></div>
        </div>

        <p class="muted small" style="margin:0">Need help? Email: <a href="mailto:afsnet@afreximbank.com">afsnet@afreximbank.com</a></p>
      </form>
    </div>
  </section>

  <footer>
    <div class="footer-row">
      <div><strong style="color:var(--navy)">Afreximbank</strong> <span class="muted">— AfSNET</span></div>
      <div>© <span id="year"></span> Afreximbank. All rights reserved.</div>
    </div>
  </footer>
</main>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  const form = document.getElementById('afsnetForm');
  const statusEl = document.getElementById('status');
  const submitBtn = document.getElementById('submitBtn');

  if (form.action.includes('REPLACE_ME')) {
    statusEl.style.display = 'block';
    statusEl.className = 'status bad';
    statusEl.textContent = 'Admin note: Replace the form action URL with your form endpoint.';
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const gotcha = form.querySelector('input[name="_gotcha"]');
    if (gotcha && gotcha.value) return;

    statusEl.style.display = 'block';
    statusEl.className = 'status';
    statusEl.textContent = 'Submitting…';
    submitBtn.disabled = true;

    try {
      const data = new FormData(form);
      const res = await fetch(form.action, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        statusEl.className = 'status ok';
        statusEl.textContent = 'Submitted. Check your email for confirmation.';
        form.reset();
      } else {
        statusEl.className = 'status bad';
        statusEl.textContent = 'Submission failed. Please try again or email afsnet@afreximbank.com.';
      }
    } catch {
      statusEl.className = 'status bad';
      statusEl.textContent = 'Network error. Please try again.';
    } finally {
      submitBtn.disabled = false;
    }
  });
</script>
</body>
</html>
